<!doctype html><html lang=en><head><meta charset=utf-8><title>Serverless NEG を試す ~Serverless NEG とは?~</title><script async src="https://www.googletagmanager.com/gtag/js?id=UA-XXXXXXXX-XX"></script><script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments);}
gtag('js',new Date());gtag('config','UA-XXXXXXXX-XX');</script><script data-goatcounter=https://iganari.github.io/count async src=//iganari.github.io/count.js></script><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1"><link rel=alternate type=application/rss+xml href=https://iganari.github.io/index.xml title="Escape from"><meta name=twitter:card content="summary"><meta name=twitter:title content="Serverless NEG を試す ~Serverless NEG とは?~"><meta name=twitter:description content="2020/07 時点での Serverless NEG のハンズオン資料です。
複数の記事に跨って作成しており、1番目の記事になります。"><link rel=stylesheet href=https://iganari.github.io/fontawesome/css/all.min.css><link id=dark-mode-theme rel=stylesheet href=https://iganari.github.io/css/dark.css><script>var darkTheme=document.getElementById('dark-mode-theme')
var storedTheme=localStorage.getItem('dark-mode-storage')
if(storedTheme==='dark'){darkTheme.disabled=false}else if(storedTheme==='light'){darkTheme.disabled=true}</script><script src=https://iganari.github.io/js/main.bundle.js></script><script src=https://iganari.github.io/js/instantpage.min.js type=module defer></script><meta name=generator content="Hugo 0.79.1"></head><body><header><nav class=navbar><div class=nav><a href=https://iganari.github.io/ class=nav-logo><img src=https://iganari.github.io/images/icon.png width=50 height=50 alt=Logo></a><ul class=nav-links><li><a href=/about/ id=About><em class="fas fa-user fa-lg"></em></a></li><li><a href=/tags id=Tags><em class="fas fa-tag fa-lg"></em></a></li><li><a href=/search id=Search><em class="fas fa-search fa-lg"></em></a></li><li><a href=/archives id=Archives><em class="fas fa-archive fa-lg"></em></a></li></ul></div></nav><div class=intro-header><div class=container><div class=post-heading><h1>Serverless NEG を試す ~Serverless NEG とは?~</h1><span class=meta-post><em class="fa fa-calendar-alt"></em>&nbsp;Jul 27, 2020</span></div></div></div></header><div class=container role=main><article class=article class=blog-post><p>2020/07 時点での Serverless NEG のハンズオン資料です。</p><p>複数の記事に跨って作成しており、1番目の記事になります。</p><hr><h1 id=構成>構成</h1><p>この記事の内容は長いため複数の記事に跨って作成しています。</p><p>適宜、興味のある記事を参照して下さい。</p><ul><li>&lt;本記事> <a href=https://iganari.github.io/post/2020-07-27_try-serverless-neg-00/>Serverless NEG とは?</a></li><li><a href=https://iganari.github.io/post/2020-07-27_try-serverless-neg-01/>Cloud RUN, App Engine, Cloud Functions の準備</a></li><li><a href=https://iganari.github.io/post/2020-07-27_try-serverless-neg-02/>サブドメインの設定</a></li><li><a href=https://iganari.github.io/post/2020-07-27_try-serverless-neg-03/>External HTTP(S) Load Balancer の作成</a></li><li><a href=https://iganari.github.io/post/2020-07-27_try-serverless-neg-04/>リソースの削除</a></li></ul><h1 id=やること>やること</h1><p>Serverless Network Endpoint Groups の概要を把握します</p><h1 id=serverless-neg-とは>Serverless NEG とは?</h1><p>正式名称は Serverless Network Endpoint Groups です。</p><p>GCP には Network Endpoint Group (NEG) という機能があり、 <a href="https://cloud.google.com/load-balancing/docs/negs/zonal-neg-concepts?hl=en">Zonal Network Endpoint Groups</a> と <a href="https://cloud.google.com/load-balancing/docs/negs/internet-neg-concepts?hl=en">Internet Network Endpoint Groups</a> という 2 種類の NEG がありました。</p><p>2020/07/08 に GCP のサーバレスなコンポーネントに対応した NEG の Beta 版が出ました。</p><ul><li>リリースノート<ul><li><a href="https://cloud.google.com/release-notes?hl=en#July_08_2020">https://cloud.google.com/release-notes?hl=en#July_08_2020</a></li></ul></li></ul><p>現在、 Serverless NEG が対応しているのは Cloud Run, Cloud Functions, App Engine です。</p><p>2020/07/27 の時点では Pre-GA というステータスであり、GA までに機能やサポートの制限の変更がある可能性がある状態です。</p><ul><li>Serverless network endpoint groups overview<ul><li><a href="https://cloud.google.com/load-balancing/docs/negs/serverless-neg-concepts?hl=en">https://cloud.google.com/load-balancing/docs/negs/serverless-neg-concepts?hl=en</a></li></ul></li></ul><p>次の図は、 HTTP(S) Load Balancing model に Serverless NEG がどのように収まるかを示しています。</p><p><img src="https://cloud.google.com/load-balancing/images/lb-serverless-simple.svg?hl=en" alt></p><p>上記のように、Load Balancer の実際のバックエンドサービスとして、Cloud Run などを使用することが出来るようになります。</p><p>Cloud Run や App Engine などは、単独でも強力なスケーリング機能や高い拡張性があるサーバレスなコンポーネントですが今回のアップデートにより、そのコンポーネントを GCP の強力な Load Balancer のバックエンドに設定することが出来るようになり、構築出来るアプリケーションの拡張性がさらに高くなります。</p><p>上記の図では、Serverless NEG は <code>or</code> で表現されていますが、 URL map などを適宜設定することにより、 1 つの Load Balancer の配下に複数のサーバレスコンポーネントを設定することも出来ます。</p><p>今回は、 1 つの Load Balancer の配下に、Cloud Run, App Engine, Cloud Functions を 1 つずつ設定して、Web ブラウザで挙動を見てみようと思います :)</p><h1 id=まとめ>まとめ</h1><p>これで Serverless NEG の概要を把握しました!!</p><p>次は <a href=https://iganari.github.io/post/2020-07-27_try-serverless-neg-01/>Cloud RUN, App Engine, Cloud Functions の準備</a> をやっていきます!</p><p>Have fun! :)</p><div class=blog-tags><a href=https://iganari.github.io/tags/gcp/>GCP</a>&nbsp;
<a href=https://iganari.github.io/tags/serverless/>Serverless</a>&nbsp;</div></article><div id=disqus_thread></div><script type=text/javascript>(function(){if(window.location.hostname=="localhost")return;var dsq=document.createElement('script');dsq.type='text/javascript';dsq.async=true;var disqus_shortname='yourdisqusshortname';dsq.src='//'+disqus_shortname+'.disqus.com/embed.js';(document.getElementsByTagName('head')[0]||document.getElementsByTagName('body')[0]).appendChild(dsq);})();</script><noscript>Please enable JavaScript to view the
<a href=https://disqus.com/?ref_noscript>comments powered by Disqus.</a></noscript><a href=https://disqus.com/ class=dsq-brlink>comments powered by <span class=logo-disqus>Disqus</span></a></div><footer><div class=social-icons><a href=https://twitter.com/iganari_ name=twitter><em class="fab fa-twitter"></em></a>&nbsp;&ndash;&nbsp;
<a href=https://github.com/iganari name=github><em class="fab fa-github"></em></a>&nbsp;&ndash;&nbsp;
<a href=https://www.linkedin.com/in/iganari/ name=LinkedIn><em class="fab fa-linkedin-in"></em></a>&nbsp;&ndash;&nbsp;
<a href=link%20to%20social%20media name="name of social media"><em class="A icon from https://fontawesome.com/"></em></a></div><div class=container><p class="credits copyright"><a href=https://iganari.github.io/about>iganari</a>
&nbsp;&copy;
2021
&nbsp;/&nbsp;
<a href=https://iganari.github.io/>Escape from</a>
&nbsp;&ndash;&nbsp;
<em class="fas fa-moon" id=dark-mode-toggle></em></p><p class="credits theme-by">Powered By <a href=https://gohugo.io>Hugo</a>&nbsp;
Theme
<a href=https://github.com/matsuyoshi30/harbor>Harbor</a></p></div></footer></body></html>